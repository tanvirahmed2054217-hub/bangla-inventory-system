<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #f5f7fa; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; }
        header { background: linear-gradient(135deg, #1a237e 0%, #311b92 100%); color: white; padding: 25px; text-align: center; }
        h1 { margin-bottom: 10px; }
        .tabs { display: flex; background: #f8f9fa; border-bottom: 2px solid #dee2e6; }
        .tab { padding: 15px 25px; cursor: pointer; font-weight: 600; color: #495057; border-right: 1px solid #dee2e6; transition: all 0.3s; }
        .tab:hover { background: #e9ecef; }
        .tab.active { background: white; color: #1a237e; border-bottom: 3px solid #1a237e; }
        .tab-content { padding: 25px; display: none; }
        .tab-content.active { display: block; }
        .btn { padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin: 5px; }
        .btn-primary { background: #1a237e; color: white; }
        .btn-success { background: #2e7d32; color: white; }
        .btn-danger { background: #c62828; color: white; }
        .btn-warning { background: #f57c00; color: white; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        th { background: #f8f9fa; padding: 12px 15px; text-align: left; color: #495057; font-weight: 600; border-bottom: 2px solid #dee2e6; }
        td { padding: 12px 15px; border-bottom: 1px solid #dee2e6; }
        tr:hover { background: #f8f9fa; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 4px; font-size: 14px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; color: #495057; }
        .memo-preview { background: white; border: 2px dashed #1a237e; border-radius: 10px; padding: 20px; margin-top: 20px; font-family: 'Courier New', monospace; font-size: 13px; }
        .notification { position: fixed; top: 20px; right: 20px; background: #27ae60; color: white; padding: 15px 25px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); display: none; z-index: 1000; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè¨ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</h1>
            <p>‡¶™‡¶£‡ßç‡¶Ø, ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶ì ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ - ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('dashboard')">üìä ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</div>
            <div class="tab" onclick="showTab('products')">üì¶ ‡¶™‡¶£‡ßç‡¶Ø</div>
            <div class="tab" onclick="showTab('customers')">üë• ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</div>
            <div class="tab" onclick="showTab('sales')">üí∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</div>
            <div class="tab" onclick="showTab('memo')">üßæ ‡¶Æ‡ßá‡¶Æ‡ßã</div>
        </div>
        
        <!-- ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div id="dashboard" class="tab-content active">
            <h2>‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; text-align: center;">
                    <h3 style="color: #1a237e;">‡¶Æ‡ßã‡¶ü ‡¶™‡¶£‡ßç‡¶Ø</h3>
                    <p style="font-size: 32px; font-weight: bold;" id="totalProducts">0</p>
                </div>
                <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; text-align: center;">
                    <h3 style="color: #4a148c;">‡¶Æ‡ßã‡¶ü ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</h3>
                    <p style="font-size: 32px; font-weight: bold;" id="totalCustomers">0</p>
                </div>
                <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; text-align: center;">
                    <h3 style="color: #1b5e20;">‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º</h3>
                    <p style="font-size: 32px; font-weight: bold;" id="totalSales">‡ß≥ 0</p>
                </div>
            </div>
        </div>
        
        <!-- ‡¶™‡¶£‡ßç‡¶Ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div id="products" class="tab-content">
            <h2>‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            <button class="btn btn-primary" onclick="showProductForm()">‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <table>
                <thead>
                    <tr>
                        <th>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</th>
                        <th>‡¶∏‡ßç‡¶ü‡¶ï</th>
                        <th>‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</th>
                    </tr>
                </thead>
                <tbody id="productsTable">
                    <!-- ‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                </tbody>
            </table>
        </div>
        
        <!-- ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div id="customers" class="tab-content">
            <h2>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            <button class="btn btn-primary" onclick="showCustomerForm()">‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <table>
                <thead>
                    <tr>
                        <th>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                        <th>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</th>
                        <th>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</th>
                        <th>‡¶Æ‡ßã‡¶ü ‡¶ï‡ßá‡¶®‡¶æ‡¶ï‡¶æ‡¶ü‡¶æ</th>
                        <th>‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</th>
                    </tr>
                </thead>
                <tbody id="customersTable">
                    <!-- ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                </tbody>
            </table>
        </div>
        
        <!-- ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div id="sales" class="tab-content">
            <h2>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
            <button class="btn btn-primary" onclick="showSaleForm()">‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <table>
                <thead>
                    <tr>
                        <th>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶®‡¶Ç</th>
                        <th>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</th>
                        <th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                        <th>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ</th>
                        <th>‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</th>
                    </tr>
                </thead>
                <tbody id="salesTable">
                    <!-- ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                </tbody>
            </table>
        </div>
        
        <!-- ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
        <div id="memo" class="tab-content">
            <h2>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            <div class="form-group">
                <label>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                <input type="text" id="memoCustomer" placeholder="‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
            </div>
            <div class="form-group">
                <label>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                <input type="text" id="memoPhone" placeholder="‡ß¶‡ßß‡ß≠‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ">
            </div>
            <div class="form-group">
                <label>‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                <select id="productSelect">
                    <option value="">‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                </select>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 10px; margin-bottom: 20px;">
                <div class="form-group">
                    <label>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</label>
                    <input type="number" id="quantity" value="1" min="1">
                </div>
                <div class="form-group">
                    <label>‡¶¶‡¶∞ (‡ß≥)</label>
                    <input type="number" id="price" placeholder="‡¶¶‡¶∞">
                </div>
                <div class="form-group">
                    <label>‡¶Æ‡ßã‡¶ü (‡ß≥)</label>
                    <input type="text" id="itemTotal" readonly>
                </div>
                <div class="form-group">
                    <label style="visibility: hidden;">‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <button class="btn btn-success" onclick="addToMemo()">‚ûï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
            
            <table>
                <thead>
                    <tr>
                        <th>‡¶™‡¶£‡ßç‡¶Ø</th>
                        <th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
                        <th>‡¶¶‡¶∞</th>
                        <th>‡¶Æ‡ßã‡¶ü</th>
                        <th>‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</th>
                    </tr>
                </thead>
                <tbody id="memoItems">
                    <!-- ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá -->
                </tbody>
            </table>
            
            <div style="text-align: right; margin-top: 20px; font-size: 18px;">
                <strong>‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ: ‡ß≥<span id="memoTotal">0</span></strong>
            </div>
            
            <div style="margin-top: 30px;">
                <button class="btn btn-warning" onclick="clearMemo()">‚ùå ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞</button>
                <button class="btn btn-success" onclick="saveMemo()">üíæ ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£</button>
                <button class="btn btn-primary" onclick="printMemo()">üñ®Ô∏è ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® (58mm)</button>
            </div>
            
            <div class="memo-preview" id="memoPreview">
                <!-- ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â -->
            </div>
        </div>
    </div>

    <!-- ‡¶™‡¶£‡ßç‡¶Ø ‡¶Æ‡ßã‡¶°‡¶æ‡¶≤ -->
    <div id="productModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
        <div style="background:white; padding:30px; border-radius:10px; width:90%; max-width:500px;">
            <h3>‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <div class="form-group">
                <label>‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ *</label>
                <input type="text" id="productName" placeholder="‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
            </div>
            <div class="form-group">
                <label>‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ</label>
                <textarea id="productDesc" rows="2" placeholder="‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ"></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡ß≥) *</label>
                    <input type="number" id="purchasePrice" placeholder="‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø">
                </div>
                <div class="form-group">
                    <label>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡ß≥) *</label>
                    <input type="number" id="salePrice" placeholder="‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø">
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label>‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡ßç‡¶ü‡¶ï</label>
                    <input type="number" id="stock" placeholder="‡¶∏‡ßç‡¶ü‡¶ï" value="0">
                </div>
                <div class="form-group">
                    <label>‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶∏‡ßç‡¶ü‡¶ï</label>
                    <input type="number" id="minStock" placeholder="‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶∏‡ßç‡¶ü‡¶ï" value="10">
                </div>
            </div>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button class="btn btn-danger" onclick="hideModal()">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
                <button class="btn btn-success" onclick="saveProduct()">‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>
    </div>
    
    <!-- ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® -->
    <div class="notification" id="notification"></div>

    <script>
        // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú
        let products = JSON.parse(localStorage.getItem('shop_products')) || [];
        let customers = JSON.parse(localStorage.getItem('shop_customers')) || [];
        let sales = JSON.parse(localStorage.getItem('shop_sales')) || [];
        let memoItems = [];
        
        // ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú
        window.onload = function() {
            updateDashboard();
            loadProducts();
            loadCustomers();
            loadSales();
            updateProductSelect();
        };
        
        // ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶®
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if(tabName === 'memo') {
                updateMemoPreview();
            }
        }
        
        // ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        function updateDashboard() {
            document.getElementById('totalProducts').textContent = products.length;
            document.getElementById('totalCustomers').textContent = customers.length;
            const totalSalesAmount = sales.reduce((sum, sale) => sum + sale.total, 0);
            document.getElementById('totalSales').textContent = '‡ß≥ ' + totalSalesAmount.toFixed(2);
        }
        
        // ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ
        function showProductForm() {
            document.getElementById('productModal').style.display = 'flex';
        }
        
        function saveProduct() {
            const product = {
                id: Date.now(),
                name: document.getElementById('productName').value,
                description: document.getElementById('productDesc').value,
                purchasePrice: parseFloat(document.getElementById('purchasePrice').value) || 0,
                salePrice: parseFloat(document.getElementById('salePrice').value) || 0,
                stock: parseInt(document.getElementById('stock').value) || 0,
                minStock: parseInt(document.getElementById('minStock').value) || 10
            };
            
            if(!product.name || !product.salePrice) {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®!', 'error');
                return;
            }
            
            products.push(product);
            localStorage.setItem('shop_products', JSON.stringify(products));
            loadProducts();
            updateProductSelect();
            updateDashboard();
            hideModal();
            showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        }
        
        function loadProducts() {
            const tbody = document.getElementById('productsTable');
            tbody.innerHTML = '';
            
            products.forEach(product => {
                const stockClass = product.stock <= product.minStock ? 'style="color: red; font-weight: bold;"' : '';
                tbody.innerHTML += `
                    <tr>
                        <td>${product.name}</td>
                        <td>‡ß≥ ${product.purchasePrice.toFixed(2)}</td>
                        <td>‡ß≥ ${product.salePrice.toFixed(2)}</td>
                        <td ${stockClass}>${product.stock}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteProduct(${product.id})">‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function deleteProduct(id) {
            if(confirm('‡¶™‡¶£‡ßç‡¶Ø‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('shop_products', JSON.stringify(products));
                loadProducts();
                updateProductSelect();
                updateDashboard();
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        function updateProductSelect() {
            const select = document.getElementById('productSelect');
            select.innerHTML = '<option value="">‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>';
            products.forEach(product => {
                select.innerHTML += `<option value="${product.id}">${product.name} - ‡ß≥${product.salePrice.toFixed(2)}</option>`;
            });
        }
        
        // ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ
        function showCustomerForm() {
            const name = prompt('‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:');
            const phone = prompt('‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:');
            const address = prompt('‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï):');
            
            if(name && phone) {
                const customer = {
                    id: Date.now(),
                    name: name,
                    phone: phone,
                    address: address || '',
                    totalPurchase: 0
                };
                
                customers.push(customer);
                localStorage.setItem('shop_customers', JSON.stringify(customers));
                loadCustomers();
                updateDashboard();
                showNotification('‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        function loadCustomers() {
            const tbody = document.getElementById('customersTable');
            tbody.innerHTML = '';
            
            customers.forEach(customer => {
                tbody.innerHTML += `
                    <tr>
                        <td>${customer.name}</td>
                        <td>${customer.phone}</td>
                        <td>${customer.address || '-'}</td>
                        <td>‡ß≥ ${customer.totalPurchase || '0'}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteCustomer(${customer.id})">‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function deleteCustomer(id) {
            if(confirm('‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Æ‡ßÅ‡¶õ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                customers = customers.filter(c => c.id !== id);
                localStorage.setItem('shop_customers', JSON.stringify(customers));
                loadCustomers();
                updateDashboard();
                showNotification('‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        // ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ
        function showSaleForm() {
            const customerId = prompt('‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï):');
            const amount = parseFloat(prompt('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡ß≥):'));
            
            if(amount) {
                const sale = {
                    id: Date.now(),
                    customerId: customerId || null,
                    date: new Date().toLocaleDateString('bn-BD'),
                    total: amount
                };
                
                sales.push(sale);
                localStorage.setItem('shop_sales', JSON.stringify(sales));
                loadSales();
                updateDashboard();
                showNotification('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        function loadSales() {
            const tbody = document.getElementById('salesTable');
            tbody.innerHTML = '';
            
            sales.forEach(sale => {
                const customer = customers.find(c => c.id == sale.customerId);
                tbody.innerHTML += `
                    <tr>
                        <td>${sale.id}</td>
                        <td>${customer ? customer.name : '‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï'}</td>
                        <td>${sale.date}</td>
                        <td>‡ß≥ ${sale.total.toFixed(2)}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="deleteSale(${sale.id})">‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function deleteSale(id) {
            if(confirm('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶õ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                sales = sales.filter(s => s.id !== id);
                localStorage.setItem('shop_sales', JSON.stringify(sales));
                loadSales();
                updateDashboard();
                showNotification('‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        // ‡¶Æ‡ßá‡¶Æ‡ßã ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ
        function addToMemo() {
            const productId = document.getElementById('productSelect').value;
            const quantity = parseInt(document.getElementById('quantity').value) || 1;
            const price = parseFloat(document.getElementById('price').value) || 0;
            
            if(!productId || !price) {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶ì ‡¶¶‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!', 'error');
                return;
            }
            
            const product = products.find(p => p.id == productId);
            if(!product) {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø!', 'error');
                return;
            }
            
            const item = {
                name: product.name,
                quantity: quantity,
                price: price,
                total: quantity * price
            };
            
            memoItems.push(item);
            updateMemoDisplay();
            updateMemoPreview();
            
            // ‡¶´‡¶∞‡ßç‡¶Æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞
            document.getElementById('productSelect').value = '';
            document.getElementById('quantity').value = '1';
            document.getElementById('price').value = '';
            document.getElementById('itemTotal').value = '';
        }
        
        function updateMemoDisplay() {
            const tbody = document.getElementById('memoItems');
            tbody.innerHTML = '';
            let grandTotal = 0;
            
            memoItems.forEach((item, index) => {
                tbody.innerHTML += `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.quantity}</td>
                        <td>‡ß≥ ${item.price.toFixed(2)}</td>
                        <td>‡ß≥ ${item.total.toFixed(2)}</td>
                        <td>
                            <button class="btn btn-danger btn-sm" onclick="removeMemoItem(${index})">‚ùå</button>
                        </td>
                    </tr>
                `;
                grandTotal += item.total;
            });
            
            document.getElementById('memoTotal').textContent = grandTotal.toFixed(2);
        }
        
        function removeMemoItem(index) {
            memoItems.splice(index, 1);
            updateMemoDisplay();
            updateMemoPreview();
        }
        
        function clearMemo() {
            if(confirm('‡¶Æ‡ßá‡¶Æ‡ßã ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?')) {
                memoItems = [];
                updateMemoDisplay();
                updateMemoPreview();
                showNotification('‡¶Æ‡ßá‡¶Æ‡ßã ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }
        
        function saveMemo() {
            if(memoItems.length === 0) {
                showNotification('‡¶Æ‡ßá‡¶Æ‡ßã‡¶§‡ßá ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®!', 'error');
                return;
            }
            
            const customerName = document.getElementById('memoCustomer').value || '‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï';
            const customerPhone = document.getElementById('memoPhone').value || '‡¶®‡¶æ‡¶á';
            const total = memoItems.reduce((sum, item) => sum + item.total, 0);
            
            // ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£
            const sale = {
                id: Date.now(),
                customerName: customerName,
                customerPhone: customerPhone,
                date: new Date().toLocaleDateString('bn-BD'),
                items: [...memoItems],
                total: total
            };
            
            sales.push(sale);
            localStorage.setItem('shop_sales', JSON.stringify(sales));
            loadSales();
            updateDashboard();
            
            showNotification('‡¶Æ‡ßá‡¶Æ‡ßã ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        }
        
        function printMemo() {
            const customerName = document.getElementById('memoCustomer').value || '‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï';
            const customerPhone = document.getElementById('memoPhone').value || '‡¶®‡¶æ‡¶á';
            const total = memoItems.reduce((sum, item) => sum + item.total, 0);
            
            let itemsText = '';
            memoItems.forEach((item, index) => {
                itemsText += `${index+1}. ${item.name} (${item.quantity} x ‡ß≥${item.price}) = ‡ß≥${item.total}\\n`;
            });
            
            const memoContent = `
==============================
       ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶∞‡¶∏‡¶ø‡¶¶
==============================
‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï: ${customerName}
‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤: ${customerPhone}
‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${new Date().toLocaleDateString('bn-BD')}
==============================
${itemsText}
==============================
‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ: ‡ß≥${total.toFixed(2)}
==============================
‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡¶æ‡¶®‡ßç‡¶§‡ßá
‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®
==============================
`;
            
            alert('‡¶Æ‡ßá‡¶Æ‡ßã ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§! ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:\\n\\n' + memoContent);
            
            // ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶°‡¶æ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ó
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Æ‡ßá‡¶Æ‡ßã</title>
                    <style>
                        body { font-family: 'Courier New', monospace; font-size: 12px; width: 58mm; margin: 0 auto; padding: 5mm; line-height: 1.2; }
                        .header { text-align: center; margin-bottom: 10px; }
                        .total { text-align: right; font-weight: bold; margin-top: 10px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h3>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®</h3>
                        <p>‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∞‡ßã‡¶°, ‡¶¢‡¶æ‡¶ï‡¶æ</p>
                    </div>
                    <p><strong>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï:</strong> ${customerName}</p>
                    <p><strong>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</strong> ${customerPhone}</p>
                    <p><strong>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</strong> ${new Date().toLocaleDateString('bn-BD')}</p>
                    <hr>
                    ${memoItems.map((item, i) => `
                        <div style="display: flex; justify-content: space-between;">
                            <span>${i+1}. ${item.name} (${item.quantity}x)</span>
                            <span>‡ß≥${item.total}</span>
                        </div>
                    `).join('')}
                    <hr>
                    <div class="total">
                        ‡¶Æ‡ßã‡¶ü: ‡ß≥${total.toFixed(2)}
                    </div>
                    <div style="text-align: center; margin-top: 15px; font-size: 11px;">
                        ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡¶æ‡¶®‡ßç‡¶§‡ßá<br>
                        ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®
                    </div>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
        
        function updateMemoPreview() {
            const preview = document.getElementById('memoPreview');
            const customerName = document.getElementById('memoCustomer').value || '‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï';
            const customerPhone = document.getElementById('memoPhone').value || '‡¶®‡¶æ‡¶á';
            const total = memoItems.reduce((sum, item) => sum + item.total, 0);
            
            let itemsHtml = '';
            memoItems.forEach((item, index) => {
                itemsHtml += `
                    <div style="display: flex; justify-content: space-between; padding: 3px 0; border-bottom: 1px dashed #ccc;">
                        <div>${index+1}. ${item.name}</div>
                        <div>‡ß≥${item.total.toFixed(2)}</div>
                    </div>
                `;
            });
            
            preview.innerHTML = `
                <div style="text-align: center; margin-bottom: 10px;">
                    <h4 style="margin: 0;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®</h4>
                    <p style="margin: 2px 0; font-size: 11px;">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶∞‡¶∏‡¶ø‡¶¶</p>
                </div>
                <div style="font-size: 11px;">
                    <p><strong>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï:</strong> ${customerName}</p>
                    <p><strong>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</strong> ${customerPhone}</p>
                    <p><strong>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</strong> ${new Date().toLocaleDateString('bn-BD')}</p>
                </div>
                <hr style="margin: 10px 0;">
                ${itemsHtml || '<p style="text-align: center; color: #999;">‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>'}
                <hr style="margin: 10px 0;">
                <div style="text-align: right; font-weight: bold;">
                    ‡¶Æ‡ßã‡¶ü: ‡ß≥${total.toFixed(2)}
                </div>
            `;
        }
        
        // ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function hideModal() {
            document.getElementById('productModal').style.display = 'none';
        }
        
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.background = type === 'success' ? '#27ae60' : '#e74c3c';
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ
        if(products.length === 0) {
            products = [
                { id: 1, name: '‡¶Ü‡¶≤‡ßÅ ‡ßß ‡¶ï‡ßá‡¶ú‡¶ø', description: '‡¶∏‡¶æ‡¶¶‡¶æ ‡¶Ü‡¶≤‡ßÅ', purchasePrice: 30, salePrice: 40, stock: 100, minStock: 20 },
                { id: 2, name: '‡¶™‡ßá‡¶Å‡¶Ø‡¶º‡¶æ‡¶ú ‡ßß ‡¶ï‡ßá‡¶ú‡¶ø', description: '‡¶≤‡¶æ‡¶≤ ‡¶™‡ßá‡¶Å‡¶Ø‡¶º‡¶æ‡¶ú', purchasePrice: 40, salePrice: 50, stock: 80, minStock: 15 },
                { id: 3, name: '‡¶ö‡¶æ‡¶≤ ‡ßß ‡¶ï‡ßá‡¶ú‡¶ø', description: '‡¶Æ‡¶ø‡¶®‡¶ø‡¶ï‡ßá‡¶ü ‡¶ö‡¶æ‡¶≤', purchasePrice: 60, salePrice: 70, stock: 50, minStock: 10 }
            ];
            localStorage.setItem('shop_products', JSON.stringify(products));
        }
        
        if(customers.length === 0) {
            customers = [
                { id: 1, name: '‡¶Æ‡ßã‡¶É ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶®', phone: '‡ß¶‡ßß‡ß≠‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ', address: '‡¶Æ‡¶ø‡¶∞‡¶™‡ßÅ‡¶∞, ‡¶¢‡¶æ‡¶ï‡¶æ', totalPurchase: 1250 },
                { id: 2, name: '‡¶ï‡¶∞‡¶ø‡¶Æ ‡¶Ü‡¶π‡¶Æ‡ßá‡¶¶', phone: '‡ß¶‡ßß‡ßÆ‡ßØ‡ßÆ‡ß≠‡ß¨‡ß´‡ß™‡ß©‡ß®', address: '‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶æ, ‡¶¢‡¶æ‡¶ï‡¶æ', totalPurchase: 850 }
            ];
            localStorage.setItem('shop_customers', JSON.stringify(customers));
        }
        
        if(sales.length === 0) {
            sales = [
                { id: 1, customerId: 1, date: '‡ß®‡ß¶‡ß®‡ß™-‡ß¶‡ßß-‡ßß‡ß´', total: 1250 },
                { id: 2, customerId: 2, date: '‡ß®‡ß¶‡ß®‡ß™-‡ß¶‡ßß-‡ßß‡ß¨', total: 850 }
            ];
            localStorage.setItem('shop_sales', JSON.stringify(sales));
        }
        
        // ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶≤‡ßã‡¶°
        updateDashboard();
        loadProducts();
        loadCustomers();
        loadSales();
        updateProductSelect();
    </script>
</body>
</html>
